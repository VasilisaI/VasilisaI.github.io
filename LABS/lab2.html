<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab 1</title>
  
  <style>
    /* Setting the purple background for the page */
    body {
      background-color: #4B0082; /* Indigo/Purple Background */
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
    }

    .wrapper {
      background: #ffffff;
      max-width: 1000px;
      margin: 0 auto;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }

    .video-center {
      display: flex;
      justify-content: center;
      margin-bottom: 25px;
    }

    /* Grid for side-by-side plots */
    .img-grid {
      display: flex; 
      gap: 10px; 
      margin-bottom: 20px;
      justify-content: center;
    }

    .img-grid img {
      width: 49%; 
      height: auto;
      border-radius: 4px;
    }

    .info-card {
      background: #f4f4f4;
      border-left: 5px solid #4B0082;
      padding: 15px;
      margin: 20px 0;
    }

    img, video {
      border-radius: 4px;
      display: block;
      margin: 0 auto 20px auto;
    }

    h1, h3, h4, h5 {
      color: #333;
    }
  </style>
</head>

<body>
<div class="wrapper">

  <h1>IMU</h1>

  <section>
    <h3>Set Up</h3>
    <img src="/assets/media2/IMG_6320.jpg" alt="IMU Connection" style="width: 40%;">
    
    <p>
      AD0_VAL represents the last bit of the I2C address used by the IMU and also the read/write flag. On our system the bit should be set to 1.
    </p>
    
    <h3>Running Example Code</h3>
    <div class="video-center">
      <video controls width="80%">
        <source src="/assets/media2/code_working.mp4" type="video/mp4">
      </video>
    </div>

    <div class="info-card">
      <p>
        In the video, you can see the acceleration data showing 1000 mg corresponding to the 1 g of acceletation due to the force of gravity. As the orientation of the IMU changes, 
        the 1000 mg value transfers betwen the axis. The gyroscope data shows zero degrees when the IMU is flat and then shows a changing value as it is rotated 
        since the gyroscope measures the rate of change of the angle. 
      </p>
    </div>

    <h3>Accelerometer</h3>
    <h4>Pitch</h4>
    <img src="/assets/media2/Pitch_0.png" alt="Pitch 0 Degrees" style="width: 80%;">
    <img src="/assets/media2/Pitch_90.png" alt="Pitch 90 Degrees" style="width: 80%;">
    <img src="/assets/media2/Pitch_-90.png" alt="Pitch -90 Degrees" style="width: 80%;">
   
    <h4>Roll</h4>
    <img src="/assets/media2/Roll_0.png" alt="Roll 0 Degrees" style="width: 80%;">
    <img src="/assets/media2/Roll_90.png" alt="Roll 90 Degrees" style="width: 80%;">
    <img src="/assets/media2/Roll_-90.png" alt="Roll -90 Degrees" style="width: 80%;">

    <h4> Accuracy Discussion</h4>
    <div class="info-card">
      <p>
        The accelerameter data did not exhibit a stationary offset, deviating between 0 to 20 mg offset between readings. Performing the 
        two-point calibration, I found that the average offset for the z-axis acceleration was 17.8 mg, -3.37 mg for y-axis, and 2.5 mg for x-axis. 
        Hence, the accelerameter data is fairly accurate. Adjusting the accelerameter data utilizing the offset and the scaling factor did not 
        appear to produce significantly more accurate or precise data.   
      </p>
    </div>

    <h4>FFT</h4>
    <h5>Baseline Reading</h5>
    <div class="img-grid">
      <img src="/assets/media2/acc_frr_no_rc.png" alt="FFT Plot">
      <img src="/assets/media2/acc_frr_no_rc_freq.png" alt="FFT Plot">
    </div>

    <h5>Reading on a Vibrating Table</h5>
    <div class="img-grid">
      <img src="/assets/media2/acc_frr_vibration.png" alt="FFT Plot">
      <img src="/assets/media2/acc_frr_vibrationfreq.png" alt="FFT Plot">
    </div>

    <h5>Reading Nearby RC Car</h5>
    <div class="img-grid">
      <img src="/assets/media2/acc_frr_rc.png" alt="FFT Plot">
      <img src="/assets/media2/acc_frr_rc_freq.png" alt="FFT Plot">
    </div>

    <h4>Filtering</h4>
    <img src="/assets/media2/equations.png" alt="Equations" style="width: 80%;">
    
    <div class="info-card">
      <p> From the regular reading and the readign with the rc car showed a peak at about 9Hz. The table vibration plot showed a peak 
        at about 6 HZ. With this information, I chose the cutoff frequency of 9 Hz to eliminate the noise at both of the aforementioned frequencies. 
        Using the equations provided in class, and subsituting 30 ms as the sampling rate, the alpha value was calculated to be 0.629. </p>
    </div>

    <div class="img-grid">
      <img src="/assets/media2/pitch_filt.png" alt="FFT Plot">
      <img src="/assets/media2/pitch_ftt.png" alt="FFT Plot">
    </div>

    <div class="img-grid">
      <img src="/assets/media2/roll_filt.png" alt="FFT Plot">
      <img src="/assets/media2/roll_ftt.png" alt="FFT Plot">
    </div>

    <div class="info-card">
      <p> The results showed that the low pass did decrease the noise, however, the alpha value was not optimal and could be further tuned for better performance. </p>
    </div>

    <h3>Gyroscope</h3>
    <img src="/assets/media2/gyro_flatIMU.png" alt="Flat" style="width: 8
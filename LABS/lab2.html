<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab 1</title>
  <link rel="stylesheet" href="/LABS/style.css">

  <style>
    .video-center {
      display: flex;
      justify-content: center;
      margin-bottom: 25px;
    }
  </style>
</head>

<body>
<div class="wrapper">

  <h1>IMU</h1>
  

  <section>
    <h3>Set Up</h3>
  

    

    <img src="/assets/media2/IMG_6320.jpg" alt="IMU Connection"
         style="width: 40%; height: auto; border-radius: 4px; margin-bottom: 20px;">
    
    <p>
      AD0_VAL represents the last bit of the I2C address used by the IMU and also the read/write flag. On our system the bit should be set to 1.
    </p>
    
     <h3>Running Example Code</h3>
    <div class="video-center">
    <video controls width="80%">
      <source src="/assets/media2/code_working.mp4" type="video/mp4">
    </video>

   </div>
     <p>
      In the video, you can see the acceleration data showing 1000 mg corresponding to the 1 g of acceletation due to the force of gravity. As the orientation of the IMU changes, 
      the 1000 mg value transfers betwen the axis. The gyroscope data shows zero degrees when the IMU is flat and then shows a changing value as it is rotated 
      since the gyroscope measures the rate of change of the angle. 
     </p>
    <h3>Accelerometer</h3>
    <h4>Pitch</h4>
     <img src="/assets/media2/Pitch_0.png" alt="Pitch 0 Degrees"
       style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;">
    <img src="/assets/media2/Pitch_90.png" alt="Pitch 90 Degrees"
       style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;">
    <img src="/assets/media2/Pitch_-90.png" alt="Pitch -90 Degrees"
      style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;">
   
      <h4>Roll</h4>
      <img src="/assets/media2/Roll_0.png" alt="Roll 0 Degrees"
        style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;">
      <img src="/assets/media2/Roll_90.png" alt="Roll 90 Degrees" 
        style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;">
      <img src="/assets/media2/Roll_-90.png" alt="Roll -90 Degrees"
        style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;">

    <p>

      
      
    </p>


     <h3>Gyroscope</h3>


     <h3>Sample Data</h3>

    <h4>Data Storage</h4>
    <p> I think the more effective choice for storing Accelerometer and Gyroscope data would be store them together for the purposes of sensor fusion. It is very likely that you 
     would want to utilize both sensors for the verification of pitch and roll data. Storing the gyro and accelerometer data togetehr ensures that 
     the data is approprialy synchronized without requiring any additional index matching. </p> 


    
Consider the memory of the Artemis; how much memory can you allocate to your arrays? What does that correspond to in seconds?

     <h3>Stunt</h3>
    <div style="display: flex;">
  <video controls style="width: 50%;">
    <source src="/assets/media2/stunt.mp4" type="video/mp4">
  </video>
  <video controls style="width: 50%;">
    <source src="/assets/media2/turn.mp4" type="video/mp4">
  </video>
 </div>
 <h4>Observations</h4>
     <p> From testing the car, I was able to observe that it can move a little less than 1 kitchen tile, with the minimal application of 
        forward speed. That test also showed that even at very small distances, the car has a slight drift, not following a straight line.
       I was also able to see that it is fairly easy to complete a 180-degree turn in both directions by applying the forward motion and 
      turn simultaneously. Lastly, I observed that it is quite easy to flip the car over if you drive into a stationary object. My controller 
      also lost contact with the car twice when I was testing, so there are definitely range limitations in terms of communication. </p>

    <img src="/assets/media/MAC.png" alt="MAC Address"
         style="width: 60%; height: auto; border-radius: 4px; margin-bottom: 20px;">
    <img src="/assets/media/mac_service.png" alt="Connection YAML"
         style="width: 60%; height: auto; border-radius: 4px; margin-bottom: 20px;">

   

    <div style="display: flex; gap: 20px;">
      <img src="/assets/media/commands_python.png" alt="Python Commands"
           style="width: 20%; height: auto; border-radius: 4px;">
      <img src="/assets/media/commands_arduino.png" alt="Arduino Commands"
           style="width: 20%; height: auto; border-radius: 4px;">
    </div>
  </section>

  <section>
   
    <h3>Tasks</h3>
      
        <details>
  <summary>ECHO</summary>
  <div style="display: flex; align-items: flex-start; padding-top: 15px;">
    <div style="flex: 1; padding-right: 15px;">
      <h4 style="margin: 0 0 10px 0;">Artemis</h4>
      <script src="https://gist.github.com/VasilisaI/c2f948b66ef7b9dad31f0a535eee4c52.js"></script>
    </div>
    <div style="flex: 1; padding-left: 5px; border-left: 1px solid #ccc;">
      <h4 style="margin: 0 0 10px 0;">Jupyter</h4>
      <img src="/assets/media/ECHO.png" alt="Python Code" style="width: 110%; height: auto; border-radius: 4px;"/>
      <p>The returned message from Artemis is printed in Jupyter notebook.</p>
    </div>
  </div>
</details>



<details>
  <summary>GET_TIME_MILLIS</summary>
  <div style="display: flex; align-items: flex-start; padding-top: 15px;">
    <div style="flex: 1; padding-right: 20px;">
      <h4 style="margin: 0 0 10px 0;">Artemis</h4>
      <script src="https://gist.github.com/VasilisaI/3cb290222bae1b95cc4ba1fcab5d48b6.js"></script>
    </div>
    <div style="flex: 1; padding-left: 20px; border-left: 1px solid #ccc;">
      <h4 style="margin: 0 0 10px 0;">Jupyter</h4>
      <img src="/assets/media/GetMillis.png" alt="Time Millis Output" style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 20px;"/>
      <h4 style="margin: 0 0 10px 0;">Arduino Serial Output</h4>
      <img src="/assets/media/Time_Sent.png" alt="Arduino Serial Output" style="display: block; width: 100%; height: auto; border-radius: 4px;"/>
      <p> The same time value is shown in the Arduino Serial Output and Jupyter notebook as it is sent from the Artemis board to the computer.</p>
    </div>
  </div>
</details>

<details>
  <summary>BLE Notification Handler</summary>
  <div style="display: flex; align-items: flex-start; padding-top: 15px;">
    <div style="flex: 1;">
      <h4 style="margin: 0 0 10px 0;">Source Code</h4>
      <img src="/assets/media/BLE_Notification.png" alt="BLE Notification Code" style="width: 80%; height: auto; border-radius: 4px;"/>
      <p> A notification handler which can track when data changes is set up. As it receives raw byte data, it prints it. </p>
      <img src="/assets/media/handler_return.png" alt="BLE Notification Code" style="width: 80%; height: auto; border-radius: 4px;"/>
      <p> A BLE controller start_notify command is used to activate the notification handler.</p>
    </div>
  </div>
</details>

<details>
  <summary>Time Loop </summary>
  <div style="display: flex; align-items: flex-start; padding-top: 15px;">
    <div style="flex: 1; padding-right: 20px;">
      <h4 style="margin: 0 0 10px 0;">Time Loop Source</h4>
      <script src="https://gist.github.com/VasilisaI/b82fc787a290404f7bbedbd245c98026.js"></script> 
      <h4 style="margin: 20px 0 10px 0;">GET_TIME_MILLIS (Reused)</h4>
      <script src="https://gist.github.com/VasilisaI/361b2267b72710a7e6c46287c45db51c.js"></script>
      <p>The loop logic is placed inside the previously created GET_TIME_MILLIS to have a controlled method of running the loop.</p>
      <h4 style="margin: 0 0 10px 0;">Time Notification Results</h4>
      <img src="/assets/media/time_notifications.png" alt="Time Notifications" style="width: 100%; height: auto; border-radius: 4px; margin-bottom: 15px;"/>
      <p>The code was able to send 26 messages in 602 ms meaning that the transfer rate is 23.15 ms per message. Each message is 7 bytes long, one byte for the ascii representation of each digit in the time value. Therefore, the effective transfer rate is about 302 bytes per second. There are other portions of the control loop like a Serial print statement that slow down the transfer of data, so a high transfer rate is achievable with greater code optimization.</p>
    </div>
  </div>
</details>
    <details>
      <summary>SEND_TIME_DATA</summary>
      <div style="display: flex; align-items: flex-start; padding-top: 15px;">
        <div style="flex: 1; padding-right: 20px;">
          <h4>Artemis</h4>
          <script src="https://gist.github.com/VasilisaI/85a1c05b11dfa790219b202645a70549.js"></script>
        </div>
        <div style="flex: 1; padding-left: 20px; border-left: 1px solid #ccc;">
          <h4>Jupyter</h4>
          <img src="/assets/media/array_received.png"
               alt="Time Data Output"
               style="width: 100%; border-radius: 4px; margin-bottom: 15px;">
          <p>
            The loop populating the timestamp array was triggered by
            <code>GET_TIME_MILLIS</code>. The data was processed using the BLE
            notification handler.
          </p>
        </div>
      </div>
    </details>

 
    <details>
      <summary>GET_TEMPERATURE_READINGS</summary>
      <div style="display: flex; align-items: flex-start; padding-top: 15px;">
        <div style="flex: 1; padding-right: 20px;">
          <h4>Artemis</h4>
          <script src="https://gist.github.com/VasilisaI/3a64587370be4dc6d97e64eb90a57555.js"></script>
        </div>
        <div style="flex: 1; padding-left: 20px; border-left: 1px solid #ccc;">
          <h4>Jupyter</h4>
          <img src="/assets/media/get_temp_readings.png" style="width: 100%; border-radius: 4px; margin-bottom: 15px;">
          <img src="/assets/media/temp_notification_handler.png" style="width: 100%; border-radius: 4px; margin-bottom: 15px;">
          <img src="/assets/media/temp_final_lists.png" style="width: 100%; border-radius: 4px; margin-bottom: 15px;">
          <p>
            Data was parsed using Python's split() function to separate
            timestamps and temperature values. The values were converted to integers
            and stored in their respective lists.
          </p>
        </div>
      </div>
    </details>









   

  </section>

  <section>
    

</div>
</body>
</html>
